# Trading pairs to monitor - Top 10 volume pairs on Binance
symbols = [
    "BTCUSDT",   # Bitcoin - #1 volume ($871M/day, 19% dominance)
    "ETHUSDT",   # Ethereum - #2 volume
    "SOLUSDT",   # Solana - #3 volume
    "BNBUSDT",   # Binance Coin - #4 volume
    "XRPUSDT",   # Ripple - #5 volume
    "TRXUSDT",   # Tron - #6 volume
    "ADAUSDT",   # Cardano - #7 volume
    "DOGEUSDT",  # Dogecoin - #8 volume
    "AVAXUSDT",  # Avalanche - #9 volume
    "DOTUSDT"    # Polkadot - #10 volume
]

[server]
host = "0.0.0.0"
port = 8080

[database]
max_connections = 8  # Increased from 5 for 10 trading pairs
min_connections = 2  # Keep warm connections ready
max_lifetime = 1800  # 30 minutes

[cache]
[cache.memory]
max_ticks_per_symbol = 1000
ttl_seconds = 300

[cache.redis]
pool_size = 10
ttl_seconds = 3600
max_ticks_per_symbol = 10000

[paper_trading]
enabled = true
strategy = "rsi_python"
initial_capital = 10000.0

[strategies]
# Directory containing Python strategy files
python_dir = "strategies"

# Enable hot-reload (development only - reloads Python files without restart)
hot_reload = true

# Hot-reload configuration
[strategies.hot_reload_config]
# Debounce time in milliseconds (wait before reloading after file change)
# This prevents multiple rapid reloads from successive file save events
debounce_ms = 300

# Skip SHA256 hash verification on hot-reload (development mode only)
# WARNING: Only enable in trusted development environments
# Production should always keep this false for security
skip_hash_verification = true

# Registered Python strategies
[[strategies.python]]
id = "sma_python"
file = "example_sma.py"
class_name = "ExampleSmaStrategy"
description = "Example Python SMA implementation"
enabled = true
sha256 = "7403ebb5f676c9c3e4f31db77a188a0947b9ace3fe6fb57032d1007e57e7cc02"

[strategies.python.limits]
max_execution_time_ms = 10  # 10ms timeout per tick

[[strategies.python]]
id = "rsi_python"
file = "example_rsi.py"
class_name = "ExampleRsiStrategy"
description = "Example Python RSI implementation"
enabled = true
sha256 = "e5a1c623067d3acbc12580d1701a70e52ffbc3eb4b477089c08dc8ccde274cfe"

[strategies.python.limits]
max_execution_time_ms = 10  # 10ms timeout per tick

[validation]
# Enable tick data validation (default: true)
enabled = true

# Maximum price change per tick (percentage)
# 10.0 = allow up to 10% price movement between consecutive ticks
max_price_change_pct = 10.0

# Timestamp tolerance (minutes)
# Allow up to 5 minutes clock skew
timestamp_tolerance_minutes = 5

# Maximum past timestamp (days)
# Allow historical data up to 10 years old
max_past_days = 3650

[reconnection_rate_limit]
# Maximum number of WebSocket reconnection attempts allowed in the time window
# Prevents getting banned from exchanges due to excessive reconnection attempts
max_attempts = 5

# Time window in seconds (60 = per minute, 3600 = per hour)
# Exchange APIs typically have rate limits on connections
window_secs = 60

# Optional: Custom wait duration in seconds when rate limit is exceeded
# If not set, defaults to window_secs
# wait_on_limit_secs = 60

[alerting]
# Enable the alerting system for monitoring critical metrics
enabled = true

# How often to evaluate alert rules (in seconds)
interval_secs = 30

# Cooldown period between repeated alerts for the same condition (in seconds)
# This prevents alert spam when a condition persists
cooldown_secs = 300  # 5 minutes

# Connection pool saturation threshold (0.0-1.0)
# WARNING alert when pool utilization exceeds this percentage
pool_saturation_threshold = 0.8  # 80%

# Connection pool critical threshold (0.0-1.0)
# CRITICAL alert when pool utilization exceeds this percentage
pool_critical_threshold = 0.95  # 95%

# Batch failure rate threshold (0.0-1.0)
# WARNING alert when batch failure rate exceeds this percentage
batch_failure_threshold = 0.2  # 20%

# Channel backpressure threshold (0.0-100.0)
# WARNING alert when channel utilization exceeds this percentage
channel_backpressure_threshold = 80.0  # 80%

# WebSocket reconnection storm threshold (number of reconnects)
# WARNING alert when reconnection count exceeds this value
reconnection_storm_threshold = 10